function comment_submit(e,t){if(""===$("#comment-text").val())swal("Hmm","Need to write a review, try again pls","error");else{var a=$('meta[name="csrf-token"]').attr("content"),n=new FormData;n.append("_token",a),n.append("video_id",t),n.append("text",$("#comment-text").val()),$.ajax({type:"POST",url:e,contentType:!1,processData:!1,data:n,dataType:"html",success:function(e){var t=JSON.parse(e);""===t.user.name?userName=t.user.email:userName=t.user.name,$("#comment-text").val(""),$("#comment-rate-modal").modal("hide"),$("#new-comment-section").append('<div class="comment"><div class="img-block"><img src="'+t.user.picture+'" alt=""></div><div class="comment-text-block"><div class="comment-name">'+userName+'</div><p class="comment-text">'+t.text+"</p></div></div>")},error:function(e){alert("error "+e)}})}}function movie_like(e){var t=$("#likes-count").text(),a=$("#dislikes-count").text(),n=new FormData;n.append("_token","{{csrf_token()}}"),n.append("id",e.data("video-id")),n.append("type","like"),$.ajax({type:"POST",url:e.data("route-like"),contentType:!1,processData:!1,data:n,dataType:"html",success:function(e){$("#likes-count, #likes-count-top").text(+t+1),$(".btn-like").removeClass("btn-off").addClass("btn-on"),$(".btn-dislike").removeClass(".btn-on").addClass("btn-off");var n=JSON.parse(e);1===n.check&&$("#dislikes-count").text(+a-1)},error:function(e){swal("Hmm","Something went wrong, try again pls","error")}})}function movie_unlike(e){var t=$("#likes-count").text(),a=new FormData;a.append("_token","{{csrf_token()}}"),a.append("id",e.data("video-id")),$.ajax({type:"POST",url:e.data("route-unlike"),contentType:!1,processData:!1,data:a,dataType:"html",success:function(e){$("#likes-count, #likes-count-top").text(+t-1),$(".btn-like").removeClass("btn-on").addClass("btn-off");JSON.parse(e)},error:function(e){swal("Hmm","Something went wrong, try again pls","error")}})}function movie_dislike(e){var t=$("#likes-count").text(),a=$("#dislikes-count").text(),n=new FormData;n.append("_token","{{csrf_token()}}"),n.append("id",e.data("video-id")),n.append("type","dislike"),$.ajax({type:"POST",url:e.data("route-like"),contentType:!1,processData:!1,data:n,dataType:"html",success:function(e){$("#dislikes-count").text(+a+1),$(".btn-dislike").removeClass("btn-off").addClass("btn-on"),$(".btn-like").removeClass("btn-on").addClass("btn-off");var n=JSON.parse(e);1===n.check&&$("#likes-count, #likes-count-top").text(+t-1)},error:function(e){swal("Hmm","Something went wrong, try again pls","error")}})}function movie_undislike(e){var t=$("#dislikes-count").text(),a=new FormData;a.append("_token","{{csrf_token()}}"),a.append("id",e.data("video-id")),$.ajax({type:"POST",url:e.data("route-unlike"),contentType:!1,processData:!1,data:a,dataType:"html",success:function(e){$("#dislikes-count").text(+t-1),$(".btn-dislike").removeClass("btn-on").addClass("btn-off");JSON.parse(e)},error:function(e){swal("Hmm","Something went wrong, try again pls","error")}})}function sendContactForm(e){var t=new FormData;t.append("_token","{{csrf_token()}}"),t.append("category",$("#q-category").val()),t.append("email",$("#user-email").val()),t.append("message",$("#message-text").val()),$("#btn-submit-contact").prop("disabled",!0),$.ajax({type:"POST",url:e,contentType:!1,processData:!1,data:t,dataType:"html",success:function(e){swal("Cool!","Email sent successfully","success"),$("#btn-submit-contact").prop("disabled",!1)},error:function(e){swal("Hmm","Something went wrong, try again pls","error"),$("#btn-submit-contact").prop("disabled",!1)}})}function updateProfile(e){var t=new FormData;t.append("_token","{{csrf_token()}}"),t.append("name",$("#user-name").val()),t.append("email",$("#user-email").val()),t.append("phone",$("#user-phone").val()),$("#btn-update-profile").prop("disabled",!0),$.ajax({type:"POST",url:e,contentType:!1,processData:!1,data:t,dataType:"html",success:function(e){swal("Cool!","Profile was successfully updated","success"),$("#btn-update-profile").prop("disabled",!1)},error:function(e){swal("Hmm","Something went wrong, try again pls","error"),$("#btn-update-profile").prop("disabled",!1)}})}function updatePassword(e){var t=new FormData;t.append("_token","{{csrf_token()}}"),t.append("oldpassword",$("#old-password").val()),t.append("newpassword",$("#new-password").val()),$("#btn-update-password").prop("disabled",!0),$.ajax({type:"POST",url:e,contentType:!1,processData:!1,data:t,dataType:"html",success:function(e){var t=JSON.parse(e);swal(t.title,t.message,t.type),$("#btn-update-password").prop("disabled",!1)},error:function(e){swal("Hmm","Something went wrong, try again pls","error"),$("#btn-update-password").prop("disabled",!1)}})}"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(e,t,a){var n=function(e){var n=a.createElement("script"),i=a.getElementsByTagName("head")[0];"file://"==t.location.origin?n.src="http://www.youtube.com/iframe_api":n.src="//www.youtube.com/iframe_api",i.appendChild(n),i=null,n=null,o(e)},o=function(a){"undefined"==typeof YT&&"undefined"==typeof t.loadingPlayer?(t.loadingPlayer=!0,t.dfd=e.Deferred(),t.onYouTubeIframeAPIReady=function(){t.onYouTubeIframeAPIReady=null,t.dfd.resolve("done"),a()}):"object"==typeof YT?a():t.dfd.done(function(e){a()})};YTPlayer={player:null,defaults:{ratio:16/9,videoId:"LSmgKRx5pBo",mute:!0,repeat:!0,width:e(t).width(),playButtonClass:"YTPlayer-play",pauseButtonClass:"YTPlayer-pause",muteButtonClass:"YTPlayer-mute",volumeUpClass:"YTPlayer-volume-up",volumeDownClass:"YTPlayer-volume-down",start:0,pauseOnScroll:!1,fitToBackground:!0,playerVars:{iv_load_policy:3,modestbranding:1,autoplay:1,controls:0,showinfo:0,wmode:"opaque",branding:0,autohide:0},events:null},init:function(a,o){var i=this;return i.userOptions=o,i.$body=e("body"),i.$node=e(a),i.$window=e(t),i.defaults.events={onReady:function(e){i.onPlayerReady(e),i.options.pauseOnScroll&&i.pauseOnScroll(),"function"==typeof i.options.callback&&i.options.callback.call(this)},onStateChange:function(e){1===e.data?(i.$node.find("img").fadeOut(400),i.$node.addClass("loaded")):0===e.data&&i.options.repeat&&i.player.seekTo(i.options.start)}},i.options=e.extend(!0,{},i.defaults,i.userOptions),i.options.height=Math.ceil(i.options.width/i.options.ratio),i.ID=(new Date).getTime(),i.holderID="YTPlayer-ID-"+i.ID,i.options.fitToBackground?i.createBackgroundVideo():i.createContainerVideo(),i.$window.on("resize.YTplayer"+i.ID,function(){i.resize(i)}),n(i.onYouTubeIframeAPIReady.bind(i)),i.resize(i),i},pauseOnScroll:function(){var e=this;e.$window.on("scroll.YTplayer"+e.ID,function(){var t=e.player.getPlayerState();1===t&&e.player.pauseVideo()}),e.$window.scrollStopped(function(){var t=e.player.getPlayerState();2===t&&e.player.playVideo()})},createContainerVideo:function(){var t=this,a=e('<div id="ytplayer-container'+t.ID+'" >                                    <div id="'+t.holderID+'" class="ytplayer-player-inline"></div>                                     </div>                                     <div id="ytplayer-shield" class="ytplayer-shield"></div>');t.$node.append(a),t.$YTPlayerString=a,a=null},createBackgroundVideo:function(){var t=this,a=e('<div id="ytplayer-container'+t.ID+'" class="ytplayer-container background">                                    <div id="'+t.holderID+'" class="ytplayer-player"></div>                                    </div>                                    <div id="ytplayer-shield" class="ytplayer-shield"></div>');t.$node.append(a),t.$YTPlayerString=a,a=null},resize:function(a){var n=e(t);a.options.fitToBackground||(n=a.$node);var o,i,r=n.width(),s=n.height(),l=e("#"+a.holderID);r/a.options.ratio<s?(o=Math.ceil(s*a.options.ratio),l.width(o).height(s).css({left:(r-o)/2,top:0})):(i=Math.ceil(r/a.options.ratio),l.width(r).height(i).css({left:0,top:(s-i)/2})),l=null,n=null},onYouTubeIframeAPIReady:function(){var e=this;e.player=new t.YT.Player(e.holderID,e.options)},onPlayerReady:function(e){this.options.mute&&e.target.mute(),e.target.playVideo()},getPlayer:function(){return this.player},destroy:function(){var a=this;a.$node.removeData("yt-init").removeData("ytPlayer").removeClass("loaded"),a.$YTPlayerString.remove(),e(t).off("resize.YTplayer"+a.ID),e(t).off("scroll.YTplayer"+a.ID),a.$body=null,a.$node=null,a.$YTPlayerString=null,a.player.destroy(),a.player=null}},e.fn.scrollStopped=function(t){var a=e(this),n=this;a.scroll(function(){a.data("scrollTimeout")&&clearTimeout(a.data("scrollTimeout")),a.data("scrollTimeout",setTimeout(t,250,n))})},e.fn.YTPlayer=function(t){return this.each(function(){var a=this;e(a).data("yt-init",!0);var n=Object.create(YTPlayer);n.init(a,t),e.data(a,"ytPlayer",n)})}}(jQuery,window,document),$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').not('[data-toggle="collapse"]').click(function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);t=t.length?t:$("[name="+this.hash.slice(1)+"]"),t.length&&(e.preventDefault(),$("html, body").animate({scrollTop:t.offset().top},1e3,function(){var e=$(t);return e.focus(),!e.is(":focus")&&(e.attr("tabindex","-1"),void e.focus())}))}}),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$("body").on("click","#btn-submit-comment",function(){comment_submit($(this).data("comment-route"),$(this).data("video-id"))}),$("body").on("click","#btn-submit-contact",function(){sendContactForm($(this).data("contact-route"))}),$("body").on("click","#btn-update-profile",function(){updateProfile($(this).data("update-profile"))}),$("body").on("click","#btn-update-password",function(){updatePassword($(this).data("update-password"))}),$("body").on("click",".btn-like",function(){$(this).hasClass("btn-on")?movie_unlike($(this)):movie_like($(this))}),$("body").on("click",".btn-dislike",function(){$(this).hasClass("btn-on")?movie_undislike($(this)):movie_dislike($(this))});var substringMatcher=function(e){return function(t,a){var n;n=[],substrRegex=new RegExp(t,"i"),$.each(e,function(e,t){substrRegex.test(t)&&n.push(t)}),a(n)}},states=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:"/search-data"});$("#frame-search .typeahead").typeahead({hint:!0,highlight:!0,minLength:1},{name:"states",source:states}),$("#intro-video").YTPlayer({fitToBackground:!0,videoId:"oJxzaBDUEB8"}),$("body").on("click","#link-update-package",function(){document.location.href=$(this).data("route")});var validationApp=angular.module("validationApp",["ngPassword"]);validationApp.controller("mainController",function(e){e.submitForm=function(){e.userForm.$valid&&alert("our form is amazing")}}),function(){"use strict";function e(){function e(e,t,a,n){var o=n[1],i=n[0],r=o[a.matchPassword],s=function(){return r.$viewValue};e.$watch(s,function(){i.$$parseAndValidate()}),i.$validators?i.$validators.passwordMatch=function(e){return!e&&!r.$modelValue||e===r.$modelValue}:i.$parsers.push(function(e){return i.$setValidity("passwordMatch",!e&&!r.$viewValue||e===r.$viewValue),e}),r.$parsers.push(function(e){return i.$setValidity("passwordMatch",!e&&!i.$viewValue||e===i.$viewValue),e})}var t=["^ngModel","^form"];return{restrict:"A",require:t,link:e}}angular.module("ngPassword",[]).directive("matchPassword",e),angular.module("angular.password",["ngPassword"]),angular.module("angular-password",["ngPassword"]),"object"==typeof module&&"function"!=typeof define&&(module.exports=angular.module("ngPassword"))}();