function comment_submit(e,t){if(""===$("#comment-text").val())swal("Hmm","Need to write a review, try again pls","error");else{var n=$('meta[name="csrf-token"]').attr("content"),a=new FormData;a.append("_token",n),a.append("video_id",t),a.append("text",$("#comment-text").val()),$.ajax({type:"POST",url:e,contentType:!1,processData:!1,data:a,dataType:"html",success:function(e){var t=JSON.parse(e);""===t.user.name?userName=t.user.email:userName=t.user.name,$("#comment-text").val(""),$("#comment-rate-modal").modal("hide"),$("#new-comment-section").append('<div class="comment"><div class="img-block"><img src="'+t.user.picture+'" alt=""></div><div class="comment-text-block"><div class="comment-name">'+userName+'</div><p class="comment-text">'+t.text+"</p></div></div>")},error:function(e){alert("error "+e)}})}}function movie_like(e){var t=$("#likes-count").text(),n=$("#dislikes-count").text(),a=new FormData;a.append("_token","{{csrf_token()}}"),a.append("id",e.data("video-id")),a.append("type","like"),$.ajax({type:"POST",url:e.data("route-like"),contentType:!1,processData:!1,data:a,dataType:"html",success:function(e){$("#likes-count, #likes-count-top").text(+t+1),$(".btn-like").removeClass("btn-off").addClass("btn-on"),$(".btn-dislike").removeClass(".btn-on").addClass("btn-off");var a=JSON.parse(e);1===a.check&&$("#dislikes-count").text(+n-1)},error:function(e){swal("Hmm","Something went wrong, try again pls","error")}})}function movie_unlike(e){var t=$("#likes-count").text(),n=new FormData;n.append("_token","{{csrf_token()}}"),n.append("id",e.data("video-id")),$.ajax({type:"POST",url:e.data("route-unlike"),contentType:!1,processData:!1,data:n,dataType:"html",success:function(e){$("#likes-count, #likes-count-top").text(+t-1),$(".btn-like").removeClass("btn-on").addClass("btn-off");JSON.parse(e)},error:function(e){swal("Hmm","Something went wrong, try again pls","error")}})}function movie_dislike(e){var t=$("#likes-count").text(),n=$("#dislikes-count").text(),a=new FormData;a.append("_token","{{csrf_token()}}"),a.append("id",e.data("video-id")),a.append("type","dislike"),$.ajax({type:"POST",url:e.data("route-like"),contentType:!1,processData:!1,data:a,dataType:"html",success:function(e){$("#dislikes-count").text(+n+1),$(".btn-dislike").removeClass("btn-off").addClass("btn-on"),$(".btn-like").removeClass("btn-on").addClass("btn-off");var a=JSON.parse(e);1===a.check&&$("#likes-count, #likes-count-top").text(+t-1)},error:function(e){swal("Hmm","Something went wrong, try again pls","error")}})}function movie_undislike(e){var t=$("#dislikes-count").text(),n=new FormData;n.append("_token","{{csrf_token()}}"),n.append("id",e.data("video-id")),$.ajax({type:"POST",url:e.data("route-unlike"),contentType:!1,processData:!1,data:n,dataType:"html",success:function(e){$("#dislikes-count").text(+t-1),$(".btn-dislike").removeClass("btn-on").addClass("btn-off");JSON.parse(e)},error:function(e){swal("Hmm","Something went wrong, try again pls","error")}})}function sendContactForm(e){var t=new FormData;t.append("_token","{{csrf_token()}}"),t.append("category",$("#q-category").val()),t.append("email",$("#user-email").val()),t.append("message",$("#message-text").val()),$("#btn-submit-contact").prop("disabled",!0),$.ajax({type:"POST",url:e,contentType:!1,processData:!1,data:t,dataType:"html",success:function(e){swal("Cool!","Email sent successfully","success"),$("#btn-submit-contact").prop("disabled",!1)},error:function(e){swal("Hmm","Something went wrong, try again pls","error"),$("#btn-submit-contact").prop("disabled",!1)}})}function updateProfile(e){var t=new FormData;t.append("_token","{{csrf_token()}}"),t.append("name",$("#user-name").val()),t.append("email",$("#user-email").val()),t.append("phone",$("#user-phone").val()),$("#btn-update-profile").prop("disabled",!0),$.ajax({type:"POST",url:e,contentType:!1,processData:!1,data:t,dataType:"html",success:function(e){swal("Cool!","Profile was successfully updated","success"),$("#btn-update-profile").prop("disabled",!1)},error:function(e){swal("Hmm","Something went wrong, try again pls","error"),$("#btn-update-profile").prop("disabled",!1)}})}function updatePassword(e){var t=new FormData;t.append("_token","{{csrf_token()}}"),t.append("oldpassword",$("#old-password").val()),t.append("newpassword",$("#new-password").val()),$("#btn-update-password").prop("disabled",!0),$.ajax({type:"POST",url:e,contentType:!1,processData:!1,data:t,dataType:"html",success:function(e){var t=JSON.parse(e);swal(t.title,t.message,t.type),$("#btn-update-password").prop("disabled",!1)},error:function(e){swal("Hmm","Something went wrong, try again pls","error"),$("#btn-update-password").prop("disabled",!1)}})}"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(e,t,n){var a=function(e){var a=n.createElement("script"),i=n.getElementsByTagName("head")[0];"file://"==t.location.origin?a.src="http://www.youtube.com/iframe_api":a.src="//www.youtube.com/iframe_api",i.appendChild(a),i=null,a=null,o(e)},o=function(n){"undefined"==typeof YT&&"undefined"==typeof t.loadingPlayer?(t.loadingPlayer=!0,t.dfd=e.Deferred(),t.onYouTubeIframeAPIReady=function(){t.onYouTubeIframeAPIReady=null,t.dfd.resolve("done"),n()}):"object"==typeof YT?n():t.dfd.done(function(e){n()})};YTPlayer={player:null,defaults:{ratio:16/9,videoId:"LSmgKRx5pBo",mute:!0,repeat:!0,width:e(t).width(),playButtonClass:"YTPlayer-play",pauseButtonClass:"YTPlayer-pause",muteButtonClass:"YTPlayer-mute",volumeUpClass:"YTPlayer-volume-up",volumeDownClass:"YTPlayer-volume-down",start:0,pauseOnScroll:!1,fitToBackground:!0,playerVars:{iv_load_policy:3,modestbranding:1,autoplay:1,controls:0,showinfo:0,wmode:"opaque",branding:0,autohide:0},events:null},init:function(n,o){var i=this;return i.userOptions=o,i.$body=e("body"),i.$node=e(n),i.$window=e(t),i.defaults.events={onReady:function(e){i.onPlayerReady(e),i.options.pauseOnScroll&&i.pauseOnScroll(),"function"==typeof i.options.callback&&i.options.callback.call(this)},onStateChange:function(e){1===e.data?(i.$node.find("img").fadeOut(400),i.$node.addClass("loaded")):0===e.data&&i.options.repeat&&i.player.seekTo(i.options.start)}},i.options=e.extend(!0,{},i.defaults,i.userOptions),i.options.height=Math.ceil(i.options.width/i.options.ratio),i.ID=(new Date).getTime(),i.holderID="YTPlayer-ID-"+i.ID,i.options.fitToBackground?i.createBackgroundVideo():i.createContainerVideo(),i.$window.on("resize.YTplayer"+i.ID,function(){i.resize(i)}),a(i.onYouTubeIframeAPIReady.bind(i)),i.resize(i),i},pauseOnScroll:function(){var e=this;e.$window.on("scroll.YTplayer"+e.ID,function(){var t=e.player.getPlayerState();1===t&&e.player.pauseVideo()}),e.$window.scrollStopped(function(){var t=e.player.getPlayerState();2===t&&e.player.playVideo()})},createContainerVideo:function(){var t=this,n=e('<div id="ytplayer-container'+t.ID+'" >                                    <div id="'+t.holderID+'" class="ytplayer-player-inline"></div>                                     </div>                                     <div id="ytplayer-shield" class="ytplayer-shield"></div>');t.$node.append(n),t.$YTPlayerString=n,n=null},createBackgroundVideo:function(){var t=this,n=e('<div id="ytplayer-container'+t.ID+'" class="ytplayer-container background">                                    <div id="'+t.holderID+'" class="ytplayer-player"></div>                                    </div>                                    <div id="ytplayer-shield" class="ytplayer-shield"></div>');t.$node.append(n),t.$YTPlayerString=n,n=null},resize:function(n){var a=e(t);n.options.fitToBackground||(a=n.$node);var o,i,r=a.width(),s=a.height(),l=e("#"+n.holderID);r/n.options.ratio<s?(o=Math.ceil(s*n.options.ratio),l.width(o).height(s).css({left:(r-o)/2,top:0})):(i=Math.ceil(r/n.options.ratio),l.width(r).height(i).css({left:0,top:(s-i)/2})),l=null,a=null},onYouTubeIframeAPIReady:function(){var e=this;e.player=new t.YT.Player(e.holderID,e.options)},onPlayerReady:function(e){this.options.mute&&e.target.mute(),e.target.playVideo()},getPlayer:function(){return this.player},destroy:function(){var n=this;n.$node.removeData("yt-init").removeData("ytPlayer").removeClass("loaded"),n.$YTPlayerString.remove(),e(t).off("resize.YTplayer"+n.ID),e(t).off("scroll.YTplayer"+n.ID),n.$body=null,n.$node=null,n.$YTPlayerString=null,n.player.destroy(),n.player=null}},e.fn.scrollStopped=function(t){var n=e(this),a=this;n.scroll(function(){n.data("scrollTimeout")&&clearTimeout(n.data("scrollTimeout")),n.data("scrollTimeout",setTimeout(t,250,a))})},e.fn.YTPlayer=function(t){return this.each(function(){var n=this;e(n).data("yt-init",!0);var a=Object.create(YTPlayer);a.init(n,t),e.data(n,"ytPlayer",a)})}}(jQuery,window,document),$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').not('[data-toggle="collapse"]').click(function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);t=t.length?t:$("[name="+this.hash.slice(1)+"]"),t.length&&(e.preventDefault(),$("html, body").animate({scrollTop:t.offset().top},1e3,function(){var e=$(t);return e.focus(),!e.is(":focus")&&(e.attr("tabindex","-1"),void e.focus())}))}}),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$("#payinfo").click(function(){return $(".payment-info--edit").slideToggle(500),$(this).toggleClass("open"),!1}),$("#change-pas").click(function(){$(".change-pas-block").slideToggle(300).toggleClass("open"),$(this).toggleClass("open")}),$("#butn-search").click(function(){if(window.innerWidth<767&&(!$(".search-wrap").hasClass("open")||!$(".search-wrap").find("input").val()))return $(".search-wrap").toggleClass("open"),$(".login-block").toggleClass("open"),!1}),$(".mypass").passField({}),$(document).on("click",".butn-menu",function(){$(".menu-block").slideToggle(),$(this).toggleClass("open"),$(".menu-block").toggleClass("open")});var VideoFilter=function(){$container=$(".menu-container"),$($container).css("height",$($container).height()+"px"),$toggler=$($container).find(".show-on-hover"),$itemsContainer=$($container).find(".menu-items"),$items=$($container).find(".menu-items>li"),$current=!1,$currentActive=!1,$resultsContainer=$(".js-filter-results");var e=function(){$container.find(".menu-items>li").not($current).css("width",0)},t=function(){$container.find(".menu-items>li").not($current).css("width","170px")},n=function(){$container.find(".menu-items>li").not($current).stop().animate({width:0},500,function(){})},a=function(){$container.find(".menu-items>li").not($current).stop().animate({width:$container.width()},500,function(){})},o=function(){return $subMenu=$current.find(".sub-menu"),!($subMenu.length<1)&&($subMenu=$subMenu[0],void $($subMenu).slideDown())},i=function(){if($current.find(".sub-menu").length>0)e(),$current.css({position:"absolute",top:$current.position().top}).animate({top:0},500,function(){$(this).addClass("active").removeAttr("style"),$currentActive.removeClass("active"),o()});else{e();var n=$currentActive.clone().removeClass("active"),a=$current.position().top;$currentActive.stop().animate({top:a},500,function(){$(this).remove();var e=$current.next();e.length?$(n).insertBefore(e):$(n).insertAfter($current.prev()),t()}),$current.css({position:"absolute",top:$current.position().top}).animate({top:0},500,function(){$(this).addClass("active").removeAttr("style")})}},r=function(){var e=$current.find("> a").attr("href");$.get(e,function(e){$resultsContainer.html(e)})};$(document).on("click",".menu-items>li",function(){return!$(this).hasClass("active")&&(!($($container).find(":animated").length>0)&&($(".sub-menu:visible").css("display","none"),$currentActive=$($itemsContainer).find(".active"),$current=$(this),r(),i(),!1))}),$(document).on("mouseenter",".show-on-hover",function(){return!($($container).find(":animated").length>0)&&void a()}).on("mouseleave",".menu-container",function(){return!($($container).find(":animated").length>0)&&void($(".active").find(".sub-menu").length>0&&n())})}();$(document).ready(function(){$("body").on("click","#btn-comment-rate-modal",function(){})}),$("body").on("click","#btn-submit-comment",function(){comment_submit($(this).data("comment-route"),$(this).data("video-id"))}),$("body").on("click","#btn-submit-contact",function(){sendContactForm($(this).data("contact-route"))}),$("body").on("click","#btn-update-profile",function(){updateProfile($(this).data("update-profile"))}),$("body").on("click","#btn-update-password",function(){updatePassword($(this).data("update-password"))}),$("body").on("click",".btn-like",function(){$(this).hasClass("btn-on")?movie_unlike($(this)):movie_like($(this))}),$("body").on("click",".btn-dislike",function(){$(this).hasClass("btn-on")?movie_undislike($(this)):movie_dislike($(this))});var substringMatcher=function(e){return function(t,n){var a;a=[],substrRegex=new RegExp(t,"i"),$.each(e,function(e,t){substrRegex.test(t)&&a.push(t)}),n(a)}},states=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:"/search-data"});$("#frame-search .typeahead").typeahead({hint:!0,highlight:!0,minLength:1},{name:"states",source:states}),$("#intro-video").YTPlayer({fitToBackground:!0,videoId:"oJxzaBDUEB8"}),$("body").on("click","#link-update-package",function(){document.location.href=$(this).data("route")});var validationApp=angular.module("validationApp",["ngPassword"]);validationApp.controller("mainController",function(e){e.submitForm=function(){e.userForm.$valid&&alert("our form is amazing")}}),function(){"use strict";function e(){function e(e,t,n,a){var o=a[1],i=a[0],r=o[n.matchPassword],s=function(){return r.$viewValue};e.$watch(s,function(){i.$$parseAndValidate()}),i.$validators?i.$validators.passwordMatch=function(e){return!e&&!r.$modelValue||e===r.$modelValue}:i.$parsers.push(function(e){return i.$setValidity("passwordMatch",!e&&!r.$viewValue||e===r.$viewValue),e}),r.$parsers.push(function(e){return i.$setValidity("passwordMatch",!e&&!i.$viewValue||e===i.$viewValue),e})}var t=["^ngModel","^form"];return{restrict:"A",require:t,link:e}}angular.module("ngPassword",[]).directive("matchPassword",e),angular.module("angular.password",["ngPassword"]),angular.module("angular-password",["ngPassword"]),"object"==typeof module&&"function"!=typeof define&&(module.exports=angular.module("ngPassword"))}();